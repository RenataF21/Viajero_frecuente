<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Registro e Inicio de Sesión</title>
        <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        form {
            margin-bottom: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="text"],
        input[type="email"],
        input[type="password"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background-color: #4caf50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        </style>
    </head>
    <body>
        <h1>Registro</h1>
        <form id="registerForm">
        <label for="firstName">Nombre:</label>
        <input type="text" id="firstName" name="firstName" required />

        <label for="lastName">Apellido:</label>
        <input type="text" id="lastName" name="lastName" required />

        <label for="email">Correo Electrónico:</label>
        <input type="email" id="email" name="email" required />

        <label for="password">Contraseña:</label>
        <input type="password" id="password" name="password" required />

        <label for="confirmPassword">Confirmar Contraseña:</label>
        <input type="password" id="confirmPassword" name="confirmPassword" required/>

        <button type="submit">Registrarse</button>
        </form>

        <h1>Inicio de Sesión</h1>
        <form id="loginForm">
        <label for="loginEmail">Correo Electrónico:</label>
        <input type="email" id="loginEmail" name="loginEmail" required />

        <label for="loginPassword">Contraseña:</label>
        <input type="password" id="loginPassword" name="loginPassword" required />

        <button type="submit">Iniciar Sesión</button>
        </form>

        <script> 
        // Función para verificar si el email ya está registrado (simulación) 
        async function isEmailRegistered(email) {
             // Simulación de consulta a la base de datos 
            const registeredEmails = ["test@example.com", "user@example.com"]; 
            return registeredEmails.includes(email); 
        } 
        document.getElementById("registerForm").addEventListener("submit", async function (event) { 
            event.preventDefault(); 
            let firstName = document.getElementById("firstName").value; 
            let email = document.getElementById("email").value; 
            let password = document.getElementById("password").value; 
            let confirmPassword = document.getElementById("confirmPassword").value; 
            
            // Validación del nombre 
            if (firstName.length < 2) { 
                alert("El nombre debe tener al menos 2 letras."); 
                return; 
            } 
            
            // Validación del correo electrónico 
            const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/; 
            if (!emailPattern.test(email)) { 
                alert("Por favor, introduce un correo electrónico válido."); 
                return;
            } 
            
            // Verificación de si el correo ya está registrado 
            if (await isEmailRegistered(email)) { 
                alert("El correo electrónico ya está registrado."); 
                return; 
            } 
            
            // Validación de la contraseña 
            if (password !== confirmPassword) { 
                alert("Las contraseñas no coinciden."); 
                return; } 
                
            alert("Registro exitoso"); 
            // Aquí podrías agregar el código para enviar el formulario al servidor 
            document.getElementById("registerForm").submit(); // Enviar el formulario al servidor 
            }); 
            
            document.getElementById("loginForm").addEventListener("submit", function (
                event) { event.preventDefault(); 
                // Aquí podrías agregar el código para enviar el formulario al servidor 
                alert("Inicio de sesión exitoso"); 
                document.getElementById("loginForm").submit(); // Enviar el formulario al servidor 
                }); 
                
        </script>
    </body>
</html>
